var Cell;Cell=function(){function t(t){this.setConfig(t),this.DOMcell=document.querySelectorAll(".game-field tr")[this.y].children[this.x],this.refreshCellView()}return t.prototype.getConfig=function(){return{x:this.x,y:this.y,status:this.status}},t.prototype.setConfig=function(t){this.x=t.x,this.y=t.y,this.status=!!t.status},t.prototype.isFree=function(){return this.status},t.prototype.isOccupied=function(){return!this.status},t.prototype.activate=function(){return this.DOMcell.className="active"},t.prototype.deactivate=function(){return this.DOMcell.className=""},t.prototype.refreshCellView=function(){return this.status?this.activate():this.deactivate()},t}();
var FieldView;FieldView=function(){function t(t){this.size=t,this.initCells()}return t.prototype.initCells=function(){var t,e,s,i,r;for(this.cells=[],r=[],e=s=0,i=this.size.y;i>=0?i>s:s>i;e=i>=0?++s:--s)r.push(function(){var s,i,r;for(r=[],t=s=0,i=this.size.x;i>=0?i>s:s>i;t=i>=0?++s:--s)r.push(this.cells.push(new Cell({y:e,x:t,status:0})));return r}.call(this));return r},t.prototype.getCell=function(){var t;if(!(arguments.length>2||0===arguments.length||(t=function(){switch(arguments.length){case 1:return arguments[0];case 2:return{x:arguments[0],y:arguments[1]}}}.apply(this,arguments),t.x>this.size.x||t.y>this.size.y)))return this.cells[t.y*this.size.x+t.x]},t.prototype.setCellStatus=function(t,e){return t=this.getCell(t),t.status=e,t.refreshCellView()},t.prototype.refreshField=function(){var t,e,s,i,r;for(i=this.cells,r=[],e=0,s=i.length;s>e;e++)t=i[e],r.push(t.refreshCellView());return r},t}();
var GameField;GameField=function(){function i(i){this.size=i||{x:12,y:16},this.fieldView=new FieldView(this.size),this.fieldControl=this.createFieldControl()}return i.prototype.createFieldControl=function(){var i,e,t,r,s;for(s=[],i=t=0,r=this.size.x;r>=0?r>t:t>r;i=r>=0?++t:--t)s.push(function(){var t,r,s;for(s=[],e=t=0,r=this.size.y;r>=0?r>t:t>r;e=r>=0?++t:--t)s.push({x:i,y:e,status:0});return s}.call(this));return s},i}();
var GameObject;GameObject=function(){function e(){}return e}();